function smpInitialise(){smpInitialiseNav();$("ul.smp-planner-list").sortable({handle:".smp-planner-list-meal-drag-handle",isValidTarget:function(n,t){return t.el[0].className.includes("smp-planner-list-meal")},onDrop:function(n,t,i,r){i(n,t,r);let f=n.attr("data-meal"),e=n.parent("ul").attr("data-day"),u=parseInt(n.prev("li").attr("data-meal"));$.ajax({url:"/planner/"+f+"/move",type:"PUT",data:JSON.stringify({date:e,sortOrderPreviousPlannerMealId:u==NaN?null:u}),contentType:"application/json; charset=utf-8",dataType:"json"})}});$(".smp-planner-list-meal-oc").click(function(){$(this).parent("div").next().find(".smp-planner-list-meal-details").toggle()});$(".smp-planner-add-header > span").click(function(){if(!$(this).hasClass("selected")){$(this).parent().children("span.selected").each(function(){$(this).removeClass("selected");let n=$(this).attr("data-select");$(n).hide()});$(this).addClass("selected");let n=$(this).attr("data-select");$(n).show()}})}function smpInitialiseNav(){$(window).resize(function(){$("aside").css("display","");$(".nav-close:visible").length>0&&($(".nav-close").css("display",""),$(".nav-show").css("display",""))});$(".nav-show").click(function(){$("aside").fadeToggle("fast");$(this).hide();$(".nav-close").show()});$(".nav-close").click(function(){$("aside").hide();$(this).hide();$(".nav-show").show()});$("[data-href]").click(function(){window.location.href=$(this).attr("data-href")})}